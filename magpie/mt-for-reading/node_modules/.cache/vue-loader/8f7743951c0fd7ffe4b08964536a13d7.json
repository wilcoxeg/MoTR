{"remainingRequest":"/Users/cui/Documents/ETH/MoTR/magpie/mt-for-reading/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/cui/Documents/ETH/MoTR/magpie/mt-for-reading/node_modules/magpie-base/src/components/trial_screens/ForcedChoiceMousetrackingScreen.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/cui/Documents/ETH/MoTR/magpie/mt-for-reading/node_modules/magpie-base/src/components/trial_screens/ForcedChoiceMousetrackingScreen.vue","mtime":1670447656032},{"path":"/Users/cui/Documents/ETH/MoTR/magpie/mt-for-reading/node_modules/cache-loader/dist/cjs.js","mtime":1670447655120},{"path":"/Users/cui/Documents/ETH/MoTR/magpie/mt-for-reading/node_modules/vue-loader/lib/index.js","mtime":1670447657348}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBWdWUgZnJvbSAndnVlJzsKaW1wb3J0IFdhaXQgZnJvbSAnLi4vaGVscGVycy9XYWl0JzsKaW1wb3J0IFNjcmVlbiBmcm9tICcuLi9TY3JlZW4nOwppbXBvcnQgU2xpZGUgZnJvbSAnLi4vU2xpZGUnOwppbXBvcnQgVGltZXJTdG9wIGZyb20gJy4uL2hlbHBlcnMvVGltZXJTdG9wJzsKaW1wb3J0IFRpbWVyU3RhcnQgZnJvbSAnLi4vaGVscGVycy9UaW1lclN0YXJ0JzsKCi8qKgogKiAqKlNjcmVlbiBNZWFzdXJlbWVudHMqKgogKgogKiB8TWVhc3VyZW1lbnR8VHlwZXxEZXNjcmlwdGlvbnwKICogfC0tfC0tLXwtLS18CiAqIHxyZXNwb25zZVRpbWV8aW50fFRpbWUgYmV0d2VlbiBjbGljayBvbiAnR28nIGFuZCByZXNwb25zZXwKICogfHJlc3BvbnNlVGltZW91dHxib29sZWFufFdoZXRoZXIgdGhlIHJlc3BvbnNlIHRpbWUgbGltaXQgd2FzIHJlYWNoZWR8CiAqIHxtdF90aW1lfGFycmF5fE1vdXNlIHRyYWNraW5nIHRpbWUgY29vcmRpbmF0ZXN8CiAqIHxtdF94fGFycmF5fE1vdXNlIHRyYWNraW5nIHggY29vcmRpbmF0ZXMgKG9yaWdpbiBpcyBhdCB0aGUgJ0dvJyBidXR0b24sIHBvc2l0aXZlIGdvZXMgcmlnaHQpfAogKiB8bXRfeXxhcnJheXxNb3VzZSB0cmFja2luZyB5IGNvb3JkaW5hdGVzIChvcmlnaW4gaXMgYXQgdGhlICdHbycgYnV0dG9uLCBwb3NpdGl2ZSBnb2VzIGRvd24pfAogKiB8bXRfc3RhcnRfdGltZXxpbnR8VGltZSBzdGFtcCBvZiB3aGVuIG1vdXNlIHRyYWNraW5nIHN0YXJ0ZWR8CiAqCiAqLwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0ZvcmNlZENob2ljZU1vdXNldHJhY2tpbmdTY3JlZW4nLAogIGNvbXBvbmVudHM6IHsgVGltZXJTdGFydCwgVGltZXJTdG9wLCBTbGlkZSwgU2NyZWVuLCBXYWl0IH0sCiAgcHJvcHM6IHsKICAgIC8qKgogICAgICogc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIG9wdGlvbiAxCiAgICAgKi8KICAgIG9wdGlvbjE6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAnb3B0aW9uMScKICAgIH0sCiAgICAvKioKICAgICAqIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiBvcHRpb24gMgogICAgICovCiAgICBvcHRpb24yOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJ29wdGlvbjInCiAgICB9LAogICAgLyoqCiAgICAgKiBUaGUgZXZlbnQgdGhhdCBjYXVzZXMgdGhlIHJlc3BvbnNlIHRvIGJlIHNlbGVjdGVkLCBlLmcuIGBjbGlja2AsIGBtb3VzZW92ZXJgLCBldGMuCiAgICAgKi8KICAgIHNlbGVjdEV2ZW50OiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJ21vdXNlb3ZlcicKICAgIH0sCiAgICAvKioKICAgICAqIFF1ZXN0aW9uIHVuZGVyIGRpc2N1c3Npb24uIEFsd2F5cyB2aXNpYmxlIG9uIHRoZSBzY3JlZW4KICAgICAqLwogICAgcXVkOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogdW5kZWZpbmVkCiAgICB9LAogICAgLyoqCiAgICAgKiBEdXJhdGlvbiBvZiB0aGUgcGF1c2UgcGhhc2UsIGRvbid0IHNldCB0aGlzLCB0byBhdm9pZCB0aGUgcGF1c2UgYWx0b2dldGhlcgogICAgICovCiAgICBwYXVzZVRpbWU6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICBkZWZhdWx0OiAwCiAgICB9LAogICAgLyoqCiAgICAgKiBIb3cgbG9uZyB0aGUgcmVzcG9uc2Ugc2hvdWxkIGJlIGVuYWJsZWQsIGRvbid0IHNldCB0aGlzLCB0byBhdm9pZCB0aGUgdGltZW91dCBhbHRvZ2V0aGVyCiAgICAgKi8KICAgIHJlc3BvbnNlVGltZUxpbWl0OiB7CiAgICAgIHR5cGU6IE51bWJlciwKICAgICAgZGVmYXVsdDogMAogICAgfQogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHBsYXlpbmc6IGZhbHNlCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGJ1dHRvbkNvb3JkaW5hdGVzKCkgewogICAgICByZXR1cm4gewogICAgICAgIHg6IHRoaXMuJHJlZnMuYnV0dG9uLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLngsCiAgICAgICAgeTogdGhpcy4kcmVmcy5idXR0b24uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkueQogICAgICB9OwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgb25QcmVzc1BsYXkoKSB7CiAgICAgIHRoaXMucGxheWluZyA9IHRydWU7CiAgICAgIHRoaXMuJG1hZ3BpZS5tb3VzZXRyYWNraW5nLnN0YXJ0KAogICAgICAgIHRoaXMuYnV0dG9uQ29vcmRpbmF0ZXMueCwKICAgICAgICB0aGlzLmJ1dHRvbkNvb3JkaW5hdGVzLnkKICAgICAgKTsKICAgIH0sCiAgICBzdWJtaXQobGFiZWwpIHsKICAgICAgaWYgKCF0aGlzLnBsYXlpbmcpIHJldHVybjsKICAgICAgdGhpcy4kbWFncGllLm1lYXN1cmVtZW50cy5yZXNwb25zZSA9IHRoaXNbbGFiZWxdOwogICAgICBjb25zdCBtb3VzZVRyYWNrID0gdGhpcy4kbWFncGllLm1vdXNldHJhY2tpbmcuZ2V0TW91c2VUcmFjaygpOwogICAgICBmb3IgKGNvbnN0IHByb3AgaW4gbW91c2VUcmFjaykgewogICAgICAgIFZ1ZS5zZXQoCiAgICAgICAgICB0aGlzLiRtYWdwaWUubWVhc3VyZW1lbnRzLAogICAgICAgICAgcHJvcCwKICAgICAgICAgIEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkobW91c2VUcmFja1twcm9wXSkpCiAgICAgICAgKTsKICAgICAgfQogICAgfQogIH0KfTsK"},{"version":3,"sources":["ForcedChoiceMousetrackingScreen.vue"],"names":[],"mappings":";AA+GA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ForcedChoiceMousetrackingScreen.vue","sourceRoot":"node_modules/magpie-base/src/components/trial_screens","sourcesContent":["<docs>\n\n```vue\n<Experiment>\n    <template v-for=\"(task, i) in [\n      {o1: 'Mammal', o2: 'Bird', s: 'Bat'},\n      {o1: 'Bird', o2: 'Insect', s: 'Kolibri'},\n      {o1: 'Fish', o2: 'Mammal', s: 'Whale'},\n      {o1: 'Fish', o2: 'Bird', s: 'Penguin'}\n      ]\">\n      <ForcedChoiceMousetrackingScreen :key=\"i\" :option1=\"task.o1\" :option2=\"task.o2\">\n            <template #option1>\n              <div :style=\"{backgroundColor: 'lightyellow', width: '100px', padding: '70px'}\">\n                {{ task.o1 }}\n              </div>\n            </template>\n            <template #option2>\n              <div :style=\"{backgroundColor: 'lightyellow', width: '100px', padding: '70px'}\">\n                {{ task.o2 }}\n              </div>\n            </template>\n            <template #stimulus>\n              <span>{{ task.s }}</span>\n            </template>\n            <template #feedback>\n              <!-- add values in `task` to measurements -->\n              <Record :data=\"{...task}\" />\n              <Wait :time=\"100\" @done=\"$magpie.saveAndNextScreen()\" />\n            </template>\n      </ForcedChoiceMousetrackingScreen>\n    </template>\n\n    <DebugResultsScreen />\n\n</Experiment>\n```\n\n</docs>\n\n<template>\n  <Screen v-bind=\"{ ...$attrs, ...$props }\">\n    <Slide>\n      <p v-if=\"qud\" class=\"qud\" v-text=\"qud\" />\n      <!-- @slot provide a preparation stimulus, i.e. a text or an audio explanation-->\n      <slot name=\"preparation\">\n        <Wait :time=\"1\" @done=\"$magpie.nextSlide()\" />\n      </slot>\n    </Slide>\n\n    <Slide>\n      <p v-if=\"qud\" class=\"qud\" v-text=\"qud\" />\n      <Wait key=\"pause\" :time=\"pauseTime\" @done=\"$magpie.nextSlide()\" />\n    </Slide>\n\n    <Slide>\n      <p v-if=\"qud\" class=\"qud\" v-text=\"qud\" />\n      <Wait key=\"wait a bit\" :time=\"500\" @done=\"$magpie.nextSlide()\" />\n      <div class=\"options\">\n        <!-- @slot provide content for choice one -->\n        <div class=\"option1\"><slot name=\"option1\" /></div>\n        <div class=\"space\"></div>\n        <!-- @slot provide content for choice two -->\n        <div class=\"option2\"><slot name=\"option2\" /></div>\n      </div>\n    </Slide>\n\n    <Slide>\n      <div class=\"options\">\n        <div\n          v-if=\"!$magpie.measurements.response\"\n          class=\"option1\"\n          @[selectEvent]=\"submit('option1')\"\n        >\n          <slot name=\"option1\" />\n        </div>\n        <div class=\"space\"></div>\n        <div\n          v-if=\"!$magpie.measurements.response\"\n          class=\"option2\"\n          @[selectEvent]=\"submit('option2')\"\n        >\n          <slot name=\"option2\" />\n        </div>\n      </div>\n      <p v-if=\"qud\" class=\"qud\" v-text=\"qud\" />\n      <div class=\"stimulus\">\n        <!-- @slot provide content for the main stimulus\n         @binding {object} coordinates The coordinates of the Start button on the page (`{x: number, y: number})\n         -->\n        <slot v-if=\"playing\" name=\"stimulus\" :coordinates=\"buttonCoordinates\" />\n        <slot v-if=\"$magpie.measurements.response\" name=\"feedback\" />\n      </div>\n      <button v-if=\"!playing\" ref=\"button\" @click=\"onPressPlay\">\n        {{ $t('general.go') }}\n      </button>\n      <Wait\n        v-if=\"playing && responseTimeLimit\"\n        :time=\"responseTimeLimit\"\n        @done=\"$magpie.nextSlide()\"\n      />\n      <TimerStart v-if=\"playing\" id=\"fcmt-response-time\" />\n      <TimerStop\n        v-if=\"$magpie.measurements.response\"\n        id=\"fcmt-response-time\"\n        :time.sync=\"$magpie.measurements.responseTime\"\n      />\n    </Slide>\n  </Screen>\n</template>\n\n<script>\nimport Vue from 'vue';\nimport Wait from '../helpers/Wait';\nimport Screen from '../Screen';\nimport Slide from '../Slide';\nimport TimerStop from '../helpers/TimerStop';\nimport TimerStart from '../helpers/TimerStart';\n\n/**\n * **Screen Measurements**\n *\n * |Measurement|Type|Description|\n * |--|---|---|\n * |responseTime|int|Time between click on 'Go' and response|\n * |responseTimeout|boolean|Whether the response time limit was reached|\n * |mt_time|array|Mouse tracking time coordinates|\n * |mt_x|array|Mouse tracking x coordinates (origin is at the 'Go' button, positive goes right)|\n * |mt_y|array|Mouse tracking y coordinates (origin is at the 'Go' button, positive goes down)|\n * |mt_start_time|int|Time stamp of when mouse tracking started|\n *\n */\nexport default {\n  name: 'ForcedChoiceMousetrackingScreen',\n  components: { TimerStart, TimerStop, Slide, Screen, Wait },\n  props: {\n    /**\n     * string representation of option 1\n     */\n    option1: {\n      type: String,\n      default: 'option1'\n    },\n    /**\n     * string representation of option 2\n     */\n    option2: {\n      type: String,\n      default: 'option2'\n    },\n    /**\n     * The event that causes the response to be selected, e.g. `click`, `mouseover`, etc.\n     */\n    selectEvent: {\n      type: String,\n      default: 'mouseover'\n    },\n    /**\n     * Question under discussion. Always visible on the screen\n     */\n    qud: {\n      type: String,\n      default: undefined\n    },\n    /**\n     * Duration of the pause phase, don't set this, to avoid the pause altogether\n     */\n    pauseTime: {\n      type: Number,\n      default: 0\n    },\n    /**\n     * How long the response should be enabled, don't set this, to avoid the timeout altogether\n     */\n    responseTimeLimit: {\n      type: Number,\n      default: 0\n    }\n  },\n  data() {\n    return {\n      playing: false\n    };\n  },\n  computed: {\n    buttonCoordinates() {\n      return {\n        x: this.$refs.button.getBoundingClientRect().x,\n        y: this.$refs.button.getBoundingClientRect().y\n      };\n    }\n  },\n  methods: {\n    onPressPlay() {\n      this.playing = true;\n      this.$magpie.mousetracking.start(\n        this.buttonCoordinates.x,\n        this.buttonCoordinates.y\n      );\n    },\n    submit(label) {\n      if (!this.playing) return;\n      this.$magpie.measurements.response = this[label];\n      const mouseTrack = this.$magpie.mousetracking.getMouseTrack();\n      for (const prop in mouseTrack) {\n        Vue.set(\n          this.$magpie.measurements,\n          prop,\n          JSON.parse(JSON.stringify(mouseTrack[prop]))\n        );\n      }\n    }\n  }\n};\n</script>\n\n<style scoped>\n.options {\n  display: flex;\n  flex-direction: row;\n}\n\n.options .space {\n  flex: 1;\n}\n\n.options .option1,\n.options .option2 {\n  flex: 0;\n}\n\n.stimulus {\n  bottom: 200px;\n  position: absolute;\n  width: 100%;\n}\n\nbutton {\n  bottom: 20px;\n  left: 50%;\n  position: absolute;\n}\n\n.qud {\n  position: relative;\n  top: 150px;\n}\n</style>\n"]}]}