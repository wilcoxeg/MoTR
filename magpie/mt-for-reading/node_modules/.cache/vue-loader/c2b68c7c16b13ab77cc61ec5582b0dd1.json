{"remainingRequest":"/Users/cui/Documents/ETH/MoTR/magpie/mt-for-reading/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/cui/Documents/ETH/MoTR/magpie/mt-for-reading/node_modules/magpie-base/src/components/Experiment.vue?vue&type=style&index=0&id=47b0120a&lang=css&","dependencies":[{"path":"/Users/cui/Documents/ETH/MoTR/magpie/mt-for-reading/node_modules/magpie-base/src/components/Experiment.vue","mtime":1670447656028},{"path":"/Users/cui/Documents/ETH/MoTR/magpie/mt-for-reading/node_modules/css-loader/dist/cjs.js","mtime":1670447655473},{"path":"/Users/cui/Documents/ETH/MoTR/magpie/mt-for-reading/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1670447657348},{"path":"/Users/cui/Documents/ETH/MoTR/magpie/mt-for-reading/node_modules/postcss-loader/src/index.js","mtime":1670447656211},{"path":"/Users/cui/Documents/ETH/MoTR/magpie/mt-for-reading/node_modules/cache-loader/dist/cjs.js","mtime":1670447655120},{"path":"/Users/cui/Documents/ETH/MoTR/magpie/mt-for-reading/node_modules/vue-loader/lib/index.js","mtime":1670447657348}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci5leHBlcmltZW50IHsKICBib3gtc2l6aW5nOiBib3JkZXItYm94OwogIG1hcmdpbjogMyUgYXV0bzsKICB3aWR0aDogOTAwcHg7CiAgbWluLWhlaWdodDogNjAwcHg7CiAgYm9yZGVyLXJhZGl1czogMTBweDsKICBib3JkZXI6IDFweCBzb2xpZCAjYWJhYmFiOwogIHBhZGRpbmc6IDIwcHg7CiAgLXdlYmtpdC1mb250LXNtb290aGluZzogYW50aWFsaWFzZWQ7CiAgLW1vei1vc3gtZm9udC1zbW9vdGhpbmc6IGdyYXlzY2FsZTsKICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgcG9zaXRpb246IHJlbGF0aXZlOwogIGRpc3BsYXk6IGZsZXg7CiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsKICBjb2xvcjogcmdiYSgwLCAwLCAwLCAwLjg3KTsKICBmb250LXNpemU6IDE3cHg7CiAgbGluZS1oZWlnaHQ6IDI3cHg7CiAgZm9udC1mYW1pbHk6ICdMYXRvJywgJ05vdG8gU2FucycsIHNhbnMtc2VyaWY7Cn0KCi5leHBlcmltZW50LndpZGUgewogIHdpZHRoOiAxMDAlOwogIG1hcmdpbjogMDsKICBtaW4taGVpZ2h0OiA5OHZoOyAvKiA5OCUgb2Ygdmlld3BvcnQgaGVpZ2h0ICovCiAgYm9yZGVyOiBub25lOwp9CgouaGVhZGVyIHsKICB0ZXh0LWFsaWduOiBsZWZ0OwogIGRpc3BsYXk6IGZsZXg7CiAgZmxleC1kaXJlY3Rpb246IHJvdzsKICBmbGV4LWdyb3c6IDA7Cn0KCi5oZWFkZXIgLmNvbCB7CiAgZmxleC1zaHJpbms6IDA7CiAgZmxleC1ncm93OiAxOwp9CgouaGVhZGVyIC5jb2w6bGFzdC1jaGlsZCB7CiAgZGlzcGxheTogZmxleDsKICBmbGV4LWRpcmVjdGlvbjogcm93LXJldmVyc2U7Cn0KCi5leHBlcmltZW50LndpZGUgLmhlYWRlciAuY29sOmxhc3QtY2hpbGQgewogIGZsZXgtZGlyZWN0aW9uOiByb3c7Cn0KCi5oZWFkZXIgLmstcHJvZ3Jlc3Mtb3V0ZXIgewogIHBhZGRpbmctcmlnaHQ6IDA7IC8qIGhhY2t5IHN0eWxlZml4IGZvciBwcm9ncmVzcyBiYXIgKi8KfQoKLyoqCiBEZWZhdWx0IHN0eWxlcwogKi8KCmgxLApoMiwKaDMsCmg0IHsKICBjb2xvcjogcmdiYSgwLCAwLCAwLCAwLjg3KTsKICBmb250LWZhbWlseTogJ1BsYXlmYWlyIERpc3BsYXknLCAnTm90byBTZXJpZicsIHNlcmlmOwogIHRleHQtYWxpZ246IGNlbnRlcjsKfQoKaDEgewogIGZvbnQtc2l6ZTogMzRweDsKfQoKYnV0dG9uIHsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjNTE4N2JhOwogIGJvcmRlcjogbm9uZTsKICBib3JkZXItcmFkaXVzOiAycHg7CiAgY29sb3I6IHdoaXRlOwogIGRpc3BsYXk6IGJsb2NrOwogIGZvbnQtZmFtaWx5OiAnTGF0bycsICdOb3RvIFNhbnMnLCBzYW5zLXNlcmlmOwogIGZvbnQtc2l6ZTogMTJweDsKICBsaW5lLWhlaWdodDogMjBweDsKICBmb250LXdlaWdodDogNzAwOwogIGxldHRlci1zcGFjaW5nOiAwLjlweDsKICBtYXJnaW46IDQwcHggYXV0byAyMHB4IGF1dG87CiAgb3V0bGluZTogbm9uZTsKICBwYWRkaW5nOiA1cHggMTBweDsKICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlOwp9CgpidXR0b246aG92ZXIsCmJ1dHRvbjpmb2N1cyB7CiAgYmFja2dyb3VuZC1jb2xvcjogIzMyNGQ5MzsKfQoKaW1nLAp2aWRlbyB7CiAgbWF4LXdpZHRoOiAxMDAlOwogIGhlaWdodDogYXV0bzsKICBtYXgtaGVpZ2h0OiA0MDBweDsKICB3aWR0aDogYXV0bzsKfQo="},{"version":3,"sources":["Experiment.vue"],"names":[],"mappings":";AAkRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Experiment.vue","sourceRoot":"node_modules/magpie-base/src/components","sourcesContent":["<docs>\n### A simple experiment with 3 screens\n\n```vue\n<Experiment>\n\n    <Screen>\n      blue\n      <button @click=\"$magpie.nextScreen()\">next</button>\n    </Screen>\n\n    <Screen>\n      green\n      <button @click=\"$magpie.nextScreen()\">next</button>\n    </Screen>\n\n    <Screen>\n      yellow\n    </Screen>\n\n</Experiment>\n```\n\n### Using a loop to create screens\n\n```vue\n<Experiment>\n\n    <Screen v-for=\"(color, i) in ['blue', 'green', 'yellow']\" :key=\"i\">\n      <Slide>\n        Screen {{i}}: {{ color }}\n        <button @click=\"$magpie.nextScreen()\">next</button>\n      </Slide>\n    </Screen>\n\n</Experiment>\n```\n\n\n### Providing a title\nBesides the `screens` slot, the Experiment component also provides an optional `title` slot that allows you to display header information on all screens of your experiment.\n\n```vue\n<Experiment>\n  <template #title>\n    My experiment\n  </template>\n  <template #default>\n    <Screen>\n      blue\n      <button @click=\"$magpie.nextScreen()\">next</button>\n    </Screen>\n    <Screen>\n      green\n      <button @click=\"$magpie.nextScreen()\">next</button>\n    </Screen>\n    <Screen>\n      yellow\n    </Screen>\n  </template>\n</Experiment>\n```\n\n### Validate entered data\nThe Experiment component also allows specifying a function that will be used to validate the to-be-submitted data before sending it to the server.\n\n```vue\n<Experiment :validate-submission=\"data => data.length === 3\">\n  <Screen>\n    blue\n    <button @click=\"$magpie.nextScreen()\">next</button>\n  </Screen>\n  <Screen>\n    green\n    <button @click=\"$magpie.nextScreen()\">next</button>\n  </Screen>\n  <Screen>\n    yellow\n  </Screen>\n</Experiment>\n```\n</docs>\n\n<script>\nimport Magpie from '../Magpie';\nimport kProgress from 'k-progress';\n\n/**\n * This is the main component for your online experiment. Put it at the root of your application.\n * The experiment is available in all subcomponents and in the parent as `$magpie`\n */\nexport default {\n  name: 'Experiment',\n  props: {\n    /**\n     * Whether to display the experiment in wide format-filling mode\n     */\n    wide: {\n      type: Boolean,\n      default: false\n    },\n    /**\n     * Optionally specify a title for your experiment which will be displayed in the browser title bar (or in the browser tab)\n     */\n    title: {\n      type: String,\n      default: ''\n    },\n    /**\n     * Optionally specify variables that should be recorded for the whole experiment\n     */\n    recordData: {\n      type: Object,\n      default: () => ({})\n    },\n\n    /**\n     * Pass an array of paths to images that will be needed in this experiment to enable preloading\n     */\n    imageAssets: {\n      type: Array,\n      default() {\n        return [];\n      }\n    },\n\n    /**\n     * Pass an array of paths to audio files that will be needed in this experiment to enable preloading\n     */\n    audioAssets: {\n      type: Array,\n      default() {\n        return [];\n      }\n    },\n\n    /**\n     * Pass an array of paths to video files that will be needed in this experiment to enable preloading\n     */\n    videoAssets: {\n      type: Array,\n      default() {\n        return [];\n      }\n    },\n    /**\n     * This function is called before data is submitted to the server. It will receive the submitted csv data as an array of objects\n     * as its only argument.\n     */\n    validateSubmission: {\n      type: Function,\n      default() {\n        return () => true;\n      }\n    }\n  },\n  data() {\n    return {\n      currentScreenComponent: {}\n    };\n  },\n  created() {\n    this.$parent.magpie = new Magpie(this.$options.magpie);\n    this.$magpie.experiment = this;\n    window.$magpie = this.$magpie;\n\n    if (this.$magpie.socketUrl) {\n      let previousParticipantCount = 0;\n      this.$watch('$magpie.socket.participants', (val) => {\n        const screens = this.$slots.default.filter((c) => !!c.componentOptions);\n        if (\n          val.length - previousParticipantCount < 0 &&\n          screens.length - 1 !== this.$magpie.currentScreenIndex\n        ) {\n          window.alert(this.$t('interactive.general.aborted'));\n          this.$magpie.nextScreen(screens.length - 1);\n        }\n        previousParticipantCount = val.length;\n      });\n    }\n\n    if (this.title) {\n      document.title = this.title;\n    }\n\n    // preload images\n    this.imageAssets.forEach((path) => {\n      const preloadLink = document.createElement('link');\n      preloadLink.href = path;\n      preloadLink.rel = 'preload';\n      preloadLink.as = 'image';\n      document.head.appendChild(preloadLink);\n    });\n\n    // preload audio\n    this.audioAssets.forEach((path) => {\n      const preloadLink = document.createElement('link');\n      preloadLink.href = path;\n      preloadLink.rel = 'preload';\n      preloadLink.as = 'audio';\n      document.head.appendChild(preloadLink);\n    });\n\n    // preload video\n    this.videoAssets.forEach((path) => {\n      const preloadLink = document.createElement('link');\n      preloadLink.href = path;\n      preloadLink.rel = 'preload';\n      preloadLink.as = 'video';\n      document.head.appendChild(preloadLink);\n    });\n\n    this.$magpie.validateSubmission = this.validateSubmission;\n\n    this.$magpie.addExpData(this.recordData);\n\n    // Ask the user before closing the page\n    window.addEventListener('beforeunload', (e) => {\n      e.preventDefault();\n    });\n  },\n  mounted() {\n    this.$el.addEventListener('mousemove', (e) =>\n      this.$magpie.mousetracking.onMouseMove(e)\n    );\n  },\n  methods: {\n    scrollToTop() {\n      // Scroll to top of experiment element\n      const expPos = this.$el.getBoundingClientRect();\n      window.scrollTo(0, window.scrollY + expPos.top);\n    }\n  },\n\n  /**\n   * The contents of this slot will be visible during the entire experiment\n   * @slot title\n   */\n  /**\n   * Place your screens inside this slot. They will be visible one after the other, like a slide show.\n   * @slot default\n   */\n  render(h) {\n    const children = this.$slots.default;\n    const screen = children\n      ? children.filter((c) => !!c.componentOptions)[\n          this.$magpie.currentScreenIndex\n        ]\n      : null;\n    // Avoid reusing children\n    screen.key = this.$magpie.currentScreenIndex;\n    return h('div', { class: 'experiment' + (this.wide ? ' wide' : '') }, [\n      h('div', { class: 'header' }, [\n        h('div', { class: 'col title' }, this.$slots.title),\n        h('div', { class: 'col status' }, [\n          this.$magpie.progress !== -1\n            ? h(kProgress, {\n                props: {\n                  percent: this.$magpie.progress * 100,\n                  showText: false,\n                  lineHeight: 10\n                },\n                style: { width: '150px' }\n              })\n            : null\n        ])\n      ]),\n      screen\n    ]);\n  }\n};\n</script>\n\n<style>\n.experiment {\n  box-sizing: border-box;\n  margin: 3% auto;\n  width: 900px;\n  min-height: 600px;\n  border-radius: 10px;\n  border: 1px solid #ababab;\n  padding: 20px;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  color: rgba(0, 0, 0, 0.87);\n  font-size: 17px;\n  line-height: 27px;\n  font-family: 'Lato', 'Noto Sans', sans-serif;\n}\n\n.experiment.wide {\n  width: 100%;\n  margin: 0;\n  min-height: 98vh; /* 98% of viewport height */\n  border: none;\n}\n\n.header {\n  text-align: left;\n  display: flex;\n  flex-direction: row;\n  flex-grow: 0;\n}\n\n.header .col {\n  flex-shrink: 0;\n  flex-grow: 1;\n}\n\n.header .col:last-child {\n  display: flex;\n  flex-direction: row-reverse;\n}\n\n.experiment.wide .header .col:last-child {\n  flex-direction: row;\n}\n\n.header .k-progress-outer {\n  padding-right: 0; /* hacky stylefix for progress bar */\n}\n\n/**\n Default styles\n */\n\nh1,\nh2,\nh3,\nh4 {\n  color: rgba(0, 0, 0, 0.87);\n  font-family: 'Playfair Display', 'Noto Serif', serif;\n  text-align: center;\n}\n\nh1 {\n  font-size: 34px;\n}\n\nbutton {\n  background-color: #5187ba;\n  border: none;\n  border-radius: 2px;\n  color: white;\n  display: block;\n  font-family: 'Lato', 'Noto Sans', sans-serif;\n  font-size: 12px;\n  line-height: 20px;\n  font-weight: 700;\n  letter-spacing: 0.9px;\n  margin: 40px auto 20px auto;\n  outline: none;\n  padding: 5px 10px;\n  text-transform: uppercase;\n}\n\nbutton:hover,\nbutton:focus {\n  background-color: #324d93;\n}\n\nimg,\nvideo {\n  max-width: 100%;\n  height: auto;\n  max-height: 400px;\n  width: auto;\n}\n</style>\n"]}]}