{"remainingRequest":"/Users/ethan/Documents/professional/research/mt-methods/mt-for-reading/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/ethan/Documents/professional/research/mt-methods/mt-for-reading/node_modules/magpie-base/src/components/screens/DebugResultsScreen.vue?vue&type=style&index=0&id=021a2104&scoped=true&lang=css&","dependencies":[{"path":"/Users/ethan/Documents/professional/research/mt-methods/mt-for-reading/node_modules/magpie-base/src/components/screens/DebugResultsScreen.vue","mtime":1666532369638},{"path":"/Users/ethan/Documents/professional/research/mt-methods/mt-for-reading/node_modules/css-loader/dist/cjs.js","mtime":1666532361906},{"path":"/Users/ethan/Documents/professional/research/mt-methods/mt-for-reading/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1666532366719},{"path":"/Users/ethan/Documents/professional/research/mt-methods/mt-for-reading/node_modules/postcss-loader/src/index.js","mtime":1666532362849},{"path":"/Users/ethan/Documents/professional/research/mt-methods/mt-for-reading/node_modules/cache-loader/dist/cjs.js","mtime":1666532360087},{"path":"/Users/ethan/Documents/professional/research/mt-methods/mt-for-reading/node_modules/vue-loader/lib/index.js","mtime":1666532366104}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CnRkIHsKICBtYXgtd2lkdGg6IDE1MHB4OwogIG92ZXJmbG93OiBoaWRkZW47CiAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7Cn0KCi5kZWJ1Z1Jlc3VsdHMgewogIG92ZXJmbG93LXg6IHNjcm9sbDsKfQo="},{"version":3,"sources":["DebugResultsScreen.vue"],"names":[],"mappings":";AAqFA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"DebugResultsScreen.vue","sourceRoot":"node_modules/magpie-base/src/components/screens","sourcesContent":["<docs>\nThis will display all data that has been entered into the experiment up to this point in a table.\nThis is useful for debugging.\nOnce you are gaoing live with your experiment, you can use the SubmitResultsScreen instead of this one to submit the data to the server and say thank you to the user.\n</docs>\n\n<template>\n  <Screen title=\"Results\" class=\"debugResults\">\n    <Slide>\n      <button @click=\"downloadCsv\">Download all data as csv</button>\n      <table v-if=\"results.length\">\n        <thead>\n          <tr>\n            <th v-for=\"key in Object.keys(results[0])\" :key=\"key\">{{ key }}</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr v-for=\"(row, i) in results\" :key=\"i\">\n            <td v-for=\"(key, j) in Object.keys(results[0])\" :key=\"j\">\n              {{ String(row[key]) }}\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </Slide>\n  </Screen>\n</template>\n\n<script>\nimport Screen from '../Screen';\nimport stringify from 'csv-stringify/lib/sync';\nimport Slide from '../Slide';\n\nexport default {\n  name: 'DebugResultsScreen',\n  components: { Slide, Screen },\n  props: {},\n  data() {\n    return {\n      results: [],\n      csv: ''\n    };\n  },\n  mounted() {\n    this.results = this.$magpie.getAllData();\n    this.csv = stringify(this.results, {\n      columns: Object.keys(this.results[0]),\n      header: true\n    });\n  },\n  methods: {\n    downloadCsv() {\n      let blob = new Blob([this.csv], {\n        type: 'text/plain',\n        endings: 'native'\n      });\n      this.download(\n        'magpie-' +\n          this.$magpie.id +\n          '-' +\n          new Date().toISOString().slice(0, 10) +\n          '.csv',\n        blob\n      );\n    },\n\n    download(filename, blob) {\n      const element = document.createElement('a');\n\n      let objectUrl = URL.createObjectURL(blob);\n      element.setAttribute('href', objectUrl);\n      element.setAttribute('download', filename);\n\n      element.style.display = 'none';\n      document.body.appendChild(element);\n\n      element.click();\n\n      URL.revokeObjectURL(objectUrl);\n      document.body.removeChild(element);\n    }\n  }\n};\n</script>\n<style scoped>\ntd {\n  max-width: 150px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.debugResults {\n  overflow-x: scroll;\n}\n</style>\n"]}]}